class nineRichLottery{constructor(domArr,targetIndex,className="active",callback=null){this.domArr=domArr;this.targetIndex=targetIndex;this.className=className;this.callback=callback;this.time=500;this.rule=[0,1,2,5,8,7,6,3];this._min=2;this._max=4;this._index=0;this._active=false}init(){if(this._active)return;this._loop=this.getRandom(this._min,this._max);this._count=this._loop*this.rule.length+this.targetIndex-this._index;this.lotteryAni()}getRandom(min,max){return Math.floor(Math.random()*(max-min)+min)}getAvg(min,max){return Math.round((min+max)/2)}lotteryAni(){const _this=this;let{domArr,className,time,rule,_min,_max,_index,_count}=this;let avg=this.getAvg(_min,_max);let t=(time/(_count+avg))*avg;for(let i=0;i<domArr.length;i++){domArr[i].setAttribute("class","")}domArr[rule[_index]].setAttribute("class","active");if(_count>0){window.setTimeout(function(){_this.lotteryAni()},t)}else{this._active=false;this.callback?this.callback():"";return}this._index=_index+1>this.rule.length-1?0:++_index;this._count=--_count;this._active=true}}